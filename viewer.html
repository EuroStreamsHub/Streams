<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Football Stream</title>
<style>
body {
  background:#369991;
  color:#000;
  font-family:'Segoe UI',Roboto,sans-serif;
  padding:1rem;
  text-align:center;
  margin:0;
}
.back-button {
  display:inline-block;
  margin:0.5rem auto 1rem auto;
  padding:.6rem 1rem;
  background:#1f1f1f;
  color:#f1faee;
  border:none;
  border-radius:.5rem;
  font-weight:600;
  cursor:pointer;
  text-decoration:none;
  transition:.2s;
}
.back-button:hover { filter:brightness(1.2); }
h2 {
  margin-bottom:.5rem;
  font-weight:bold;
}
.stream-container {
  width:90%;
  max-width:1000px;
  aspect-ratio:16/9;
  background:#000;
  margin:0 auto;
  position:relative;
  border-radius:.5rem;
  overflow:hidden;
}
iframe {
  width:100%;
  height:100%;
  border:none;
}
.loader {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  border:6px solid rgba(255,255,255,0.1);
  border-top:6px solid #FF6700;
  border-radius:50%;
  width:50px;
  height:50px;
  animation:spin 1s linear infinite;
  z-index:5;
}
@keyframes spin {0%{transform:translate(-50%,-50%) rotate(0deg);}100%{transform:translate(-50%,-50%) rotate(360deg);}}

.vpn-banner {
  background:#d3d3d3;
  border:1px solid #1f1f1f;
  padding:1rem;
  margin:1rem auto;
  border-radius:.5rem;
  max-width:600px;
  display:none;
  font-size:.95rem;
  line-height:1.4;
  color:#000;
}
.vpn-banner a {
  color:#1f1f1f;
  font-weight:bold;
  text-decoration:none;
}
.vpn-banner a:hover { text-decoration:underline; }
</style>
</head>
<body>

<a href="streams.html" class="back-button">‚¨Ö Back to Matches</a>

<div id="vpn-banner" class="vpn-banner"></div>

<h2 id="match-title">Football Stream</h2>

<div class="stream-container">
  <div class="loader" id="loader"></div>
  <iframe id="stream-iframe" allowfullscreen></iframe>
</div>

<script>
const iframe = document.getElementById("stream-iframe");
const loader = document.getElementById("loader");

// Read ?src= parameter
const urlParams = new URLSearchParams(window.location.search);
const src = urlParams.get("src");

if (!src) {
  document.getElementById("match-title").textContent = "No stream selected";
} else {
  loader.style.display = "block";
  iframe.src = src;
  iframe.onload = () => loader.style.display = "none";
}

// VPN Banner
async function detectLocation() {
  try {
    const res = await fetch("https://ipapi.co/json/");
    const data = await res.json();
    const banner = document.getElementById("vpn-banner");
    banner.innerHTML = `
      ‚ö†Ô∏è It looks like you're visiting from <b>${data.country_name}</b>.<br>
      Some streams may not work in your region.<br>
      üëâ <a href="https://refer-nordvpn.com/BoZjAlNeKcb" target="_blank">
        Get NordVPN to unlock all matches
      </a>
    `;
    banner.style.display = "block";
  } catch(e) {
    console.error("VPN banner error:", e);
  }
}
detectLocation();
</script>

</body>
</html>
