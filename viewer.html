<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Viewer</title>

<style>
body {
  margin:0;
  font-family:'Segoe UI',Roboto,sans-serif;
  background:#000;
  color:#fff;
  text-align:center;
}

.top {
  padding:.8rem;
}

a {
  color:#ff6700;
  text-decoration:none;
}

.stream {
  max-width:1100px;
  aspect-ratio:16/9;
  margin:0 auto;
  background:#000;
  position:relative;
}

iframe {
  width:100%;
  height:100%;
  border:none;
}

.loader {
  position:absolute;
  top:50%;
  left:50%;
  width:46px;
  height:46px;
  border:6px solid rgba(255,255,255,.2);
  border-top:6px solid #ff6700;
  border-radius:50%;
  transform:translate(-50%,-50%);
  animation:spin 1s linear infinite;
}

@keyframes spin {
  to { transform:translate(-50%,-50%) rotate(360deg); }
}
</style>
</head>

<body>

<div class="top">
  <a href="movies.html">â¬… Back</a>
  <h3 id="title"></h3>
</div>

<div class="stream">
  <div class="loader" id="loader"></div>
  <iframe id="player" allowfullscreen></iframe>
</div>

<script>
const params = new URLSearchParams(location.search);
const type = params.get("type");
const imdb = params.get("imdb");
const title = params.get("title");

document.getElementById("title").textContent =
  title ? decodeURIComponent(title) : "Viewer";

const player = document.getElementById("player");
const loader = document.getElementById("loader");

if (type === "movie" && imdb) {
  loader.style.display = "block";
  player.src = `https://vidfast.pro/movie/${imdb}?autoplay=1`;
  player.onload = () => loader.style.display = "none";
}
</script>

</body>
</html>
